{"version":3,"sources":["scripts/main.js"],"names":["Axis","MoveDirection","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","generateField","rowLength","tierLength","height","width","cells","generateCells","x","y","maxSize","newCell","coords","contains","push","fillCell","value","cell","document","querySelector","concat","textContent","className","classList","add","clearCell","field","index","findIndex","generateUnit","quantity","valueOptions","coordsOptions","filter","map","_loop_1","targetCoords","Math","floor","random","newValue","moveUnit","unit","direction","_a","_b","_c","_d","newCoords","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","targetCell","find","score","moveTier","axis","forEach","updateCells","checkResult","some","remove","unpdateScore","scoreElem","handleKeypress","Y","X","isGameOver","trialField","JSON","parse","stringify","console","log","onArrowPress","e","values","includes","key","isFull","startButton","replace","rows","querySelectorAll","tiers","addEventListener","body","removeEventListener"],"mappings":"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","file":"main.a14f073b.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n;\r\n;\r\n;\r\n;\r\nvar Axis;\r\n(function (Axis) {\r\n    Axis[\"X\"] = \"x\";\r\n    Axis[\"Y\"] = \"y\";\r\n})(Axis || (Axis = {}));\r\n;\r\nvar MoveDirection;\r\n(function (MoveDirection) {\r\n    MoveDirection[\"ArrowUp\"] = \"ArrowUp\";\r\n    MoveDirection[\"ArrowDown\"] = \"ArrowDown\";\r\n    MoveDirection[\"ArrowLeft\"] = \"ArrowLeft\";\r\n    MoveDirection[\"ArrowRight\"] = \"ArrowRight\";\r\n})(MoveDirection || (MoveDirection = {}));\r\n;\r\nfunction generateField(rowLength, tierLength) {\r\n    return {\r\n        height: rowLength,\r\n        width: tierLength,\r\n        cells: generateCells({ x: rowLength, y: tierLength })\r\n    };\r\n}\r\n;\r\nfunction generateCells(maxSize) {\r\n    var cells = [];\r\n    for (var x = 1; x <= maxSize.x; x++) {\r\n        for (var y = 1; y <= maxSize.y; y++) {\r\n            var newCell = {\r\n                coords: {\r\n                    x: x,\r\n                    y: y\r\n                },\r\n                contains: null\r\n            };\r\n            cells.push(newCell);\r\n        }\r\n    }\r\n    return cells;\r\n}\r\n;\r\nfunction fillCell(x, y, value) {\r\n    var cell = document.querySelector(\".field-row:nth-last-child(\".concat(y, \") > .field-cell:nth-child(\").concat(x));\r\n    if (cell) {\r\n        cell.textContent = \"\".concat(value || '');\r\n        cell.className = 'field-cell';\r\n        if (value) {\r\n            cell.classList.add(\"field-cell--\".concat(value));\r\n        }\r\n    }\r\n}\r\n;\r\nfunction clearCell(field, x, y) {\r\n    var index = field.cells.findIndex(function (cell) {\r\n        return cell.coords.x === x && cell.coords.y === y;\r\n    });\r\n    var cell = document.querySelector(\".field-row:nth-last-child(\".concat(y, \") > .field-cell:nth-child(\").concat(x));\r\n    field.cells[index].contains = null;\r\n}\r\n;\r\nfunction generateUnit(quantity, field) {\r\n    var valueOptions = [2, 4];\r\n    var coordsOptions = field.cells\r\n        .filter(function (cell) { return !cell.contains; })\r\n        .map(function (cell) { return cell.coords; });\r\n    var _loop_1 = function (i) {\r\n        var targetCoords = coordsOptions[Math.floor(Math.random() * (coordsOptions.length))];\r\n        coordsOptions = coordsOptions.filter(function (coords) { return coords !== targetCoords; });\r\n        var newValue = Math.floor(Math.random() * 10) < 9\r\n            ? valueOptions[0]\r\n            : valueOptions[1];\r\n        var index = field.cells.findIndex(function (cell) { return cell.coords === targetCoords; });\r\n        field.cells[index].contains = {\r\n            coords: targetCoords,\r\n            value: newValue\r\n        };\r\n        fillCell(targetCoords.x, targetCoords.y, newValue);\r\n    };\r\n    for (var i = 0; i < quantity; i++) {\r\n        _loop_1(i);\r\n    }\r\n    ;\r\n    return field;\r\n}\r\n;\r\nfunction moveUnit(unit, field, direction) {\r\n    var _a, _b, _c, _d;\r\n    var newCoords = __assign({}, unit.coords);\r\n    switch (direction) {\r\n        case MoveDirection.ArrowUp:\r\n            newCoords = {\r\n                x: unit.coords.x,\r\n                y: unit.coords.y + 1\r\n            };\r\n            break;\r\n        case MoveDirection.ArrowDown:\r\n            newCoords = {\r\n                x: unit.coords.x,\r\n                y: unit.coords.y - 1\r\n            };\r\n            break;\r\n        case MoveDirection.ArrowLeft:\r\n            newCoords = {\r\n                x: unit.coords.x - 1,\r\n                y: unit.coords.y\r\n            };\r\n            break;\r\n        case MoveDirection.ArrowRight:\r\n            newCoords = {\r\n                x: unit.coords.x + 1,\r\n                y: unit.coords.y\r\n            };\r\n            break;\r\n    }\r\n    var targetCell = field.cells.find(function (cell) {\r\n        return cell.coords.x === newCoords.x && cell.coords.y === newCoords.y;\r\n    });\r\n    if (!targetCell || (((_a = targetCell.contains) === null || _a === void 0 ? void 0 : _a.value) && (((_b = targetCell.contains) === null || _b === void 0 ? void 0 : _b.value) !== unit.value))) {\r\n        // assign current cell for the unit\r\n        var index = field.cells.findIndex(function (cell) {\r\n            return cell.coords.x === unit.coords.x && cell.coords.y === unit.coords.y;\r\n        });\r\n        field.cells[index].contains = unit;\r\n        return unit;\r\n    }\r\n    else if (((_c = targetCell.contains) === null || _c === void 0 ? void 0 : _c.value) && (((_d = targetCell.contains) === null || _d === void 0 ? void 0 : _d.value) === unit.value)) {\r\n        // merge\r\n        clearCell(field, unit.coords.x, unit.coords.y);\r\n        targetCell.contains.value += unit.value;\r\n        score += targetCell.contains.value;\r\n        return targetCell.contains;\r\n    }\r\n    // next move\r\n    clearCell(field, unit.coords.x, unit.coords.y);\r\n    moveUnit(__assign(__assign({}, unit), { coords: __assign({}, newCoords) }), field, direction);\r\n}\r\n;\r\nfunction moveTier(i, direction, axis, field) {\r\n    var tier = field.cells.filter(function (cell) {\r\n        return cell.contains && cell.coords[axis] === i;\r\n    })\r\n        .map(function (cell) { return cell.contains; });\r\n    tier.forEach(function (unit) {\r\n        if (unit) {\r\n            moveUnit(unit, field, direction);\r\n        }\r\n    });\r\n}\r\n;\r\nfunction updateCells(field) {\r\n    field.cells.forEach(function (cell) {\r\n        var _a;\r\n        fillCell(cell.coords.x, cell.coords.y, (_a = cell.contains) === null || _a === void 0 ? void 0 : _a.value);\r\n    });\r\n}\r\n;\r\nfunction checkResult(field) {\r\n    var _a;\r\n    if (field.cells.some(function (cell) { var _a; return ((_a = cell.contains) === null || _a === void 0 ? void 0 : _a.value) === 2048; })) {\r\n        (_a = document.querySelector('.message-win')) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n    }\r\n}\r\n;\r\n// function calculateScore(field: Field) {\r\n//   let score = 0;\r\n//   field.cells.forEach((cell: FieldCell) => {\r\n//     if (cell.contains) {\r\n//       score += cell.contains.value;\r\n//     }\r\n//   })\r\n//   return score;\r\n// };\r\nfunction unpdateScore(field) {\r\n    // const score = calculateScore(field);\r\n    var scoreElem = document.querySelector('.game-score');\r\n    if (scoreElem) {\r\n        scoreElem.textContent = \"\".concat(score);\r\n    }\r\n}\r\n;\r\nfunction handleKeypress(field, direction) {\r\n    switch (direction) {\r\n        case MoveDirection.ArrowDown:\r\n            for (var i = 1; i <= field.height; i++) {\r\n                moveTier(i, direction, Axis.Y, field);\r\n            }\r\n            break;\r\n        case MoveDirection.ArrowUp:\r\n            for (var i = field.height - 1; i; i--) {\r\n                moveTier(i, direction, Axis.Y, field);\r\n            }\r\n            break;\r\n        case MoveDirection.ArrowLeft:\r\n            for (var i = 1; i <= field.height; i++) {\r\n                moveTier(i, direction, Axis.X, field);\r\n            }\r\n            break;\r\n        case MoveDirection.ArrowRight:\r\n            for (var i = field.width - 1; i; i--) {\r\n                moveTier(i, direction, Axis.X, field);\r\n            }\r\n            break;\r\n        default:\r\n            return field;\r\n    }\r\n    return field;\r\n}\r\n;\r\nfunction isGameOver(field, score) {\r\n    var trialField = JSON.parse(JSON.stringify(field));\r\n    for (var direction in MoveDirection) {\r\n        console.log(field);\r\n        trialField = handleKeypress(trialField, MoveDirection[direction]);\r\n        var isFull = !trialField.cells.filter(function (cell) { return !cell.contains; }).length;\r\n        if (!isFull) {\r\n            console.log('is not game onver');\r\n            return false;\r\n        }\r\n    }\r\n    console.log('is game onver');\r\n    return true;\r\n}\r\n;\r\nfunction onArrowPress(e) {\r\n    var _a;\r\n    if (Object.values(MoveDirection).includes(MoveDirection[e.key])) {\r\n        handleKeypress(field, e.key);\r\n        var isFull = !field.cells.filter(function (cell) { return !cell.contains; }).length;\r\n        if (isFull && isGameOver(field, score)) {\r\n            (_a = document.querySelector('.message-lose')) === null || _a === void 0 ? void 0 : _a.classList.remove('hidden');\r\n        }\r\n        if (startButton === null || startButton === void 0 ? void 0 : startButton.classList.contains('start')) {\r\n            startButton.classList.replace('start', 'restart');\r\n            startButton.textContent = 'Restart';\r\n        }\r\n        if (!isFull) {\r\n            generateUnit(1, field);\r\n        }\r\n        updateCells(field);\r\n        unpdateScore(field);\r\n        checkResult(field);\r\n    }\r\n}\r\n;\r\nvar startButton = document.querySelector('.start');\r\nvar rows = document.querySelectorAll('.field-row').length;\r\nvar tiers = document.querySelectorAll('.field-row:first-child > .field-cell').length;\r\nvar field = generateField(rows, tiers);\r\nvar score;\r\nstartButton === null || startButton === void 0 ? void 0 : startButton.addEventListener('click', function () {\r\n    var _a, _b, _c;\r\n    score = 0;\r\n    if (field.cells.filter(function (cell) { return cell.contains; })) {\r\n        field = generateField(rows, tiers);\r\n        updateCells(field);\r\n        document.body.removeEventListener('keyup', onArrowPress);\r\n    }\r\n    ;\r\n    (_a = document.querySelector('.message-start')) === null || _a === void 0 ? void 0 : _a.classList.add('hidden');\r\n    (_b = document.querySelector('.message-lose')) === null || _b === void 0 ? void 0 : _b.classList.add('hidden');\r\n    (_c = document.querySelector('.message-win')) === null || _c === void 0 ? void 0 : _c.classList.add('hidden');\r\n    generateUnit(2, field);\r\n    unpdateScore(field);\r\n    document.body.addEventListener('keyup', onArrowPress);\r\n});\r\n"]}